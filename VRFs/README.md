This sample config handles spoke-spoke overlaps. To handle hub-spoke overlaps, we will need to add a new VRF in CSR1 and create NAT in the new spoke VPN appliance.
